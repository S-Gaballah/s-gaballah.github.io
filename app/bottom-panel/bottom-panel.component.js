System.register(["@angular/core","../shared/firebase.service","../map/map.service"],function(e,t){"use strict";var s,i,r,a,o=this&&this.__decorate||function(e,t,s,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;0<=n;n--)(r=e[n])&&(o=(a<3?r(o):3<a?r(t,s,o):r(t,s))||o);return 3<a&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};t&&t.id;return{setters:[function(e){s=e},function(e){i=e},function(e){r=e}],execute:function(){a=function(){function e(e,t){this._firebaseService=e,this._esriMapService=t,this.isOpen=!1,this.showXAxis=!0,this.showYAxis=!0,this.gradient=!1,this.showLegend=!1,this.showXAxisLabel=!1,this.showYAxisLabel=!1,this.colorScheme={domain:["blue","red"]},this.GetCardsData(),this.GetLiveUsersData(),this.GetTotalUsersData(),this.GetVersionsData()}return e.prototype.ngOnInit=function(){var t=this;this._esriMapService.VehiclesLayer&&(this._esriMapService.VehiclesLayer.on("graphic-add",function(e){t.GetCardsData(),t.GetLiveUsersData(),t.GetTotalUsersData(),t.GetVersionsData()}),this._esriMapService.VehiclesLayer.on("graphics-clear",function(e){t.isOpen=!1,t.GetCardsData(),t.GetLiveUsersData(),t.GetTotalUsersData(),t.GetVersionsData()}))},e.prototype.openPanel=function(){0<this._esriMapService.LiveUsersCount&&(this.isOpen=!this.isOpen)},e.prototype.GetCardsData=function(){var e=[{name:"Active Users",value:this._esriMapService.LiveUsersCount},{name:"Total feeds",value:this._firebaseService.TotalFeeds}];this.cards=e.slice()},e.prototype.GetLiveUsersData=function(){var e=[{name:"Android",value:this._esriMapService.LiveAndroidUsersCount},{name:"Iphone",value:this._esriMapService.LiveIphoneUsersCount}];this.liveUsers=e.slice()},e.prototype.GetTotalUsersData=function(){var e=[{name:"Android",value:this._esriMapService.AndroidFeeds},{name:"Iphone",value:this._esriMapService.IphoneFeeds}];this.totalUsers=e.slice()},e.prototype.GetVersionsData=function(){var e=[{name:"Android",series:this._esriMapService.AndroidVersions.slice()},{name:"Iphone",series:this._esriMapService.IphoneVersions}];this.osVersions=e.slice()},e.prototype.onSelect=function(e){},e=o([s.Component({moduleId:"app/bottom-panel/",selector:"bottom-panel",templateUrl:"bottom-panel.component.html",styleUrls:["bottom-panel.css"]}),n("design:paramtypes",[i.FirebaseService,r.MapService])],e)}(),e("BottomPanelComponent",a)}}});